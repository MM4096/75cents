<!DOCTYPE html>
<html>
<head>
    <title>Order Page</title>
    <link rel="stylesheet" href="style.css" />
    <style>
    </style>
</head>
<body onload="timeLeft()">
    <p><strong>PLEASE DO NOT ORDER. THIS WEBPAGE IS STILL UNDER CONSTRUCTION</strong></p>
    <div class="saleBanner" id="saleTime"></div>




    <div class="grid">
        <div><p>Item:</p></div>
        <div><p>Quantity</p></div>
        <div class="tooltip"><label for="option1">Lolly Scramble (4 pack) 
        <!--For sale, put cost inside strike element. Otherwise, place after element-->
        <!--Cost $1.00-->
        <strike>$1.00</strike>
        50&#162;
             
        </label><span class="tooltiptext"><img src="lollyScramble.jpg"/></span></div>

        <div><input id="option1" type="number" onchange="checkSubmit()" /></div>

        <div class="tooltip"><label for="option2">Licorice Allsorts (3 pack)
        <!--Cost $1.00-->
        <strike>$1.00</strike>
        50&#162;

            </label><span class="tooltiptext"><img src="licoriceAllsorts.jpg" /></span></div>

        <div><input id="option2" type="number" onchange="checkSubmit()" /></div>

        <div class="tooltip"><label for="option3">Sour Candy (5 pack)
        <!--Cost 50c use &#162-->
        <strike>50&#162;</strike>
        20&#162
             
        </label><span class="tooltiptext"><img src="sourCandy.jpg" /></span></div>

        <div><input id="option3" type="number" onchange="checkSubmit()" /></div>

        <div class="tooltip"><label for="option4">Chocolate Favorates (1 bar)
         <!--Cost 50c-->
        <strike>50&#162;</strike>    
            20&#162;
             
        </label><span class="tooltiptext"><img src="chocolateFavorates.jpg" /></span></div>

        <div><input id="option4" type="number" onchange="checkSubmit()" /></div>

        <div class="tooltip"><label for="option5">Chupa Chups (1 lollipop) 
        <!--Cost 50c-->
        <strike>50&#162;</strike>
        20&#162;
             
        </label><span class="tooltiptext"><img src="lollipop.jpg" /></span></div>

        <div><input id="option5" type="number" onchange="checkSubmit()" /></div>

        <div><label for="option6">2022 Calendar 
        <!--Cost $5-->
        <strike>$5</strike>    
        
            $2.50

            </label></div>

        <div><input id="option6" type="number" onchange="checkSubmit()" /></div>


        <div><label for="option7">Mystery Box &#215;1 
            <!--Cost $2.50-->
            <strike>$2.50</strike>
            $1.20

            </label></div>

        <div><input id="option7" type="number" onchange="checkSubmit()"/></div>

        <div><p>Total:</p></div>

        <div><p id="totalcost">$0.00</p></div>

    </div>
    <br />
    <button target="_blank" onclick="location.href = 'view.html';" class="important">View Options</button>
    <br />
    <button onclick="costcalculate()">Calculate Cost</button>
    <br>
    <label for="name">Enter your name: </label>
    <input id="name" onchange="checkSubmit()" />
    <br>
    <label for="class">Enter your class:</label>
    <select id="class" onchange="checkSubmit()">
        <option value="null">-SELECT-</option>
        <option value="bdu">7BDU</option>
        <option value="cva">7CVA</option>
        <option value="mdu">7MDU</option>
        <option value="mle">7MLE</option>
        <option value="mwe">7MWE</option>
        <option value="zde">7ZDE</option>
        <option value="hwh">8HWH</option>
        <option value="jch">8JCH</option>
        <option value="jgr">8JGR</option>
        <option value="jps">8JPS</option>
        <option value="mvr">8MVR</option>
        <option value="spo">8SPO</option>
        <option value="afi">9AFI</option>
        <option value="bhn">9BHN</option>
        <option value="cgr">9CGR</option>
        <option value="htr">9HTR</option>
        <option value="lst">9LST</option>
        <option value="pba">9PBA</option>
        <option value="yne">9YNE</option>
    </select>
    <br>
    <br>
    <br>
    <br>
    <p class="important"><strong>IMPORTANT:</strong> please list your allergies below (We will notify you if your order contains your allergy) </p>
    <textarea rows="10" cols="20" id="allergy"></textarea>
    <br />

    <input id="information" />

    <br>
    <button onclick="submit()" id="enterbutton" disabled>Submit</button>
    <p id="inputinfo"></p>
    <a href="information.html">What to do next</a>
    <br />
    <script>
        var totalcost;
        function submit() {
            costcalculate()
            if (confirm("Please confirm your order total: $" + totalcost)) {
                var numberOption1 = +document.getElementById("option1").value;
                var numberOption2 = +document.getElementById("option2").value;
                var numberOption3 = +document.getElementById("option3").value;
                var numberOption4 = +document.getElementById("option4").value;
                var numberOption5 = +document.getElementById("option5").value;
                var numberOption6 = +document.getElementById("option6").value;
                var numberOption7 = +document.getElementById("option7").value;
                var allergy = document.getElementById("allergy").value;
                var optionblock = document.getElementById("class");
                var optionselected = optionblock.options[optionblock.selectedIndex].text;
                var name = document.getElementById("name").value;



                document.getElementById("information").style.visibility = "initial";
                document.getElementById("information").value = "Name" + name + "_ class" + optionselected + "_1:" + numberOption1 + "_2:" + numberOption2 + "_3:" + numberOption3 + "_4:" + numberOption4 + "_5:" + numberOption5 + "_6:" + numberOption6 + "_7:" + numberOption7 + "_Allergy: " + allergy;
                let input = document.getElementById("information");
                window.open('mailto:minecraftmath4096@gmail.com?subject=order&body=copy_and_paste_from_webpage_input_here:');
                input.select();
                document.getElementById("inputinfo").innerHTML = "Now press ctrl + c, go to outlook and press ctrl + v then send";
            } else {
                document.getElementById("information").value = "Order Canceled."
            }
            



        }
        function costcalculate() {


            var option1cost = +document.getElementById("option1").value / 2;
            var option2cost = +document.getElementById("option2").value / 2;
            var option3cost = +document.getElementById("option3").value * 0.2;
            var option4cost = +document.getElementById("option4").value * 0.2;
            var option5cost = +document.getElementById("option5").value * 0.2;
            var option6cost = +document.getElementById("option6").value * 2.5;
            var option7cost = +document.getElementById("option7").value * 1.2;
            totalcost = option1cost + option2cost + option3cost + option4cost + option5cost + option6cost + option7cost;
            document.getElementById("totalcost").innerHTML = "$" + totalcost;


        }
        function checkSubmit() {
            var optionblock = document.getElementById("class");
            var button = document.getElementById("enterbutton");
            var optionselected = optionblock.options[optionblock.selectedIndex].text;
            var name = document.getElementById("name").value;
            var numberOption1 = +document.getElementById("option1").value;
            var numberOption2 = +document.getElementById("option2").value;
            var numberOption3 = +document.getElementById("option3").value;
            var numberOption4 = +document.getElementById("option4").value;
            var numberOption5 = +document.getElementById("option5").value;
            var numberOption6 = +document.getElementById("option6").value;
            var numberOption7 = +document.getElementById("option7").value
            if ((numberOption1 > -1) && (numberOption2 > -1) && (name.length !== 0) && (optionselected.length !== 8) && (numberOption3 > -1) && (numberOption4 > -1) && (numberOption5 > -1) && (numberOption6 > -1) && (numberOption7 > -1)) {
                button.disabled = false;
            } else {
                button.disabled = true;
            }
        }
        window.onload = function () {
            setInterval(timeLeft(), 10000);
        };
        function timeLeft() {
            // Set the date we're counting down to
            var countDownDate = new Date("Sep 23, 2021 15:37:25").getTime();

            // Update the count down every 1 second
            var x = setInterval(function () {

                // Get today's date and time
                var now = new Date().getTime();

                // Find the distance between now and the count down date
                var distance = countDownDate - now;

                // Time calculations for days, hours, minutes and seconds
                var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                var seconds = Math.floor((distance % (1000 * 60)) / 1000);

                // Output the result in an element with id="demo"
                document.getElementById("saleTime").innerHTML ="Sale! 50% off<br>Time Left: "+ days + "d " + hours + "h "
                    + minutes + "m " + seconds + "s ";

                // If the count down is over, write some text 
                if (distance < 0) {
                    clearInterval(x);
                    document.getElementById("saleTime").innerHTML = "Sale Ended";
                }
            }, 1000);
        }
    </script>
    
</body>
</html>